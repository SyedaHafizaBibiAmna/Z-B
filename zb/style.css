:root{
    --bg:#0f0e17;
    --card:#171621;
    --text:#ffffff;
    --muted:#c8c6d7;
    --accent:#ff4d6d;
    --accent-2:#f9c74f;
    --success:#7ae582;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0;
    font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;
    color:var(--text);
    background: radial-gradient(1200px 800px at 10% -10%, rgba(255,77,109,.15), transparent 60%),
                radial-gradient(1000px 700px at 110% 10%, rgba(249,199,79,.12), transparent 60%),
                var(--bg);
    overflow-x:hidden;
}

.container{width:min(100%,1120px);margin:0 auto;padding:24px}

.site-header{position:sticky;top:0;background:rgba(15,14,23,.7);backdrop-filter:blur(10px);z-index:10;border-bottom:1px solid rgba(255,255,255,.06)}
.title{font-family:'Playfair Display',serif;font-size:clamp(28px,4vw,44px);margin:8px 0}
.subtitle{color:var(--muted);margin:0 0 12px}
.controls{display:flex;gap:12px;flex-wrap:wrap}

.btn{background:var(--accent);color:#fff;border:none;padding:10px 16px;border-radius:10px;cursor:pointer;font-weight:600;transition:transform .1s ease, box-shadow .2s ease}
.btn:hover{transform:translateY(-1px);box-shadow:0 6px 20px rgba(255,77,109,.4)}
.btn:active{transform:translateY(0)}
.btn-secondary{background:#2a2936;color:var(--text)}

.hero{padding-top:24px}
.hero-card{display:grid;grid-template-columns:1fr 1fr;gap:20px;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,0));border:1px solid rgba(255,255,255,.06);border-radius:16px;overflow:hidden}
.hero-img{width:100%;height:100%;object-fit:cover;display:block;min-height:260px}
.hero-text{padding:20px}
.hero-text h2{font-family:'Playfair Display',serif;font-size:clamp(22px,3vw,34px);margin:6px 0 10px}
.hero-text p{color:var(--muted);line-height:1.7}

@media (max-width:820px){
    .hero-card{grid-template-columns:1fr}
}

.memories{margin-top:12px}
.memories h3,.gallery h3,.settings h3{font-family:'Playfair Display',serif;margin:8px 0 12px}
.memories-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px;perspective:700px}
.memories-grid figure{margin:0;border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,.06);background:var(--card);position:relative;opacity:0;transform:translateY(20px) scale(.96) rotateZ(calc(var(--seed-rot, 0deg)));transition:transform .35s ease, box-shadow .35s ease, opacity .6s ease}
.memories-grid figure.in-view{opacity:1;transform:translateY(0) scale(1) rotateZ(0)}
.memories-grid figure:hover{transform:translateY(-6px) scale(1.02) rotateZ(0);box-shadow:0 16px 40px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.06) inset}
.memories-grid figure:after{content:"";position:absolute;inset:0;background:radial-gradient(120px 60px at 10% 0%, rgba(255,255,255,.15), transparent 60%);opacity:0;transition:opacity .35s ease;pointer-events:none}
.memories-grid figure:hover:after{opacity:.9}
.memories-grid img{width:100%;height:180px;object-fit:cover;display:block;animation:floaty var(--float-dur, 6s) ease-in-out infinite alternate}

/* Staggered reveal */
.memories-grid figure:nth-child(6n+1){transition-delay:.0s}
.memories-grid figure:nth-child(6n+2){transition-delay:.05s}
.memories-grid figure:nth-child(6n+3){transition-delay:.1s}
.memories-grid figure:nth-child(6n+4){transition-delay:.15s}
.memories-grid figure:nth-child(6n+5){transition-delay:.2s}
.memories-grid figure:nth-child(6n+6){transition-delay:.25s}

@keyframes floaty{from{transform:translateY(0)}to{transform:translateY(-6px)}}

/* Showcase slideshow */
.showcase{position:relative;margin-top:14px;border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,.06);background:#0c0b13}
.showcase-track{position:relative;height:62vh;min-height:340px;max-height:72vh}
.showcase-slide{position:absolute;inset:0;opacity:0;transition:opacity 900ms ease;display:flex;align-items:center;justify-content:center}
.showcase-slide.is-active{opacity:1}
.showcase-slide img,.showcase-slide video{width:100%;height:100%;object-fit:contain;background:radial-gradient(600px 200px at 50% 50%, rgba(255,255,255,.06), transparent 70%);transform-origin:center}
.showcase-slide img{animation:kenburns 22s ease-in-out infinite}
.showcase-slide video{background:#000}
.showcase-controls{position:absolute;inset:auto 0 10px 0;display:flex;justify-content:center;gap:12px;z-index:2}
.showcase-btn{background:rgba(42,41,54,.8);color:#fff;border:1px solid rgba(255,255,255,.08);padding:8px 12px;border-radius:10px;cursor:pointer;font-size:18px}
.showcase-btn:hover{background:rgba(42,41,54,1)}

@keyframes kenburns{
    0%{transform:scale(1.05) translate(-1%, -1%)}
    50%{transform:scale(1.12) translate(1%, 1%)}
    100%{transform:scale(1.05) translate(-1%, -1%)}
}
.hint{color:var(--muted)}

.gallery .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
.gallery figure{margin:0;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,.06)}
.gallery img,.gallery video{width:100%;height:180px;object-fit:cover;display:block;filter:saturate(1.1)}

.settings-form{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,0));border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:16px}
.settings-form label{display:flex;flex-direction:column;gap:6px;font-weight:600}
.settings-form input,.settings-form textarea{background:var(--card);color:var(--text);border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:10px;font:inherit}
.settings-form .row{grid-column:1/-1;display:flex;gap:10px}

@media (max-width:820px){
    .settings-form{grid-template-columns:1fr}
}

.site-footer{border-top:1px solid rgba(255,255,255,.06);margin-top:24px}
.site-footer p{margin:8px 0 20px;text-align:center;color:var(--muted)}

#sparkle-canvas{position:fixed;inset:0;pointer-events:none;z-index:3}
#confetti-canvas{position:fixed;inset:0;pointer-events:none;z-index:5}

/* Floating hearts */
.heart{position:fixed;width:12px;height:12px;background:var(--accent);transform:rotate(45deg);opacity:.8;animation:floatUp 4s linear forwards}
.heart:before,.heart:after{content:"";position:absolute;width:12px;height:12px;background:var(--accent);border-radius:50%}
.heart:before{top:-6px;left:0}
.heart:after{left:-6px;top:0}
@keyframes floatUp{to{transform:translateY(-160vh) rotate(45deg);opacity:0}}

/* Modal */
.modal{position:fixed;inset:0;display:none;z-index:20}
.modal[aria-hidden="false"]{display:block}
.modal-backdrop{position:absolute;inset:0;background:rgba(10,9,16,.7);backdrop-filter:blur(6px)}
.modal-dialog{position:relative;margin:8vh auto 0;width:min(94%,820px);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,.5);max-height:80vh;display:flex;flex-direction:column}
.modal-title{font-family:'Playfair Display',serif;margin:16px 20px 6px}
.modal-content{padding:0 20px 12px;color:var(--muted);overflow:auto;line-height:1.8;mask-image:linear-gradient(to bottom, transparent 0, rgba(0,0,0,.8) 12px, #000 40px, #000 calc(100% - 40px), rgba(0,0,0,.8) calc(100% - 12px), transparent 100%)}
.modal-content p{margin:10px 0}
.modal-actions{display:flex;gap:10px;justify-content:flex-end;padding:12px 16px;border-top:1px solid rgba(255,255,255,.06)}
.modal-close{position:absolute;right:8px;top:8px;background:#2a2936;border:none;color:#fff;width:34px;height:34px;border-radius:10px;cursor:pointer;font-size:18px}

/* Cute heart button */
.btn-heart{background:linear-gradient(135deg, #ff4d6d, #ff7096); position:relative; padding-left:42px}
.btn-heart:before{content:'‚ù§'; position:absolute; left:14px; top:50%; transform:translateY(-50%); filter:drop-shadow(0 2px 6px rgba(0,0,0,.3))}
.btn-heart:hover{box-shadow:0 10px 24px rgba(255,77,109,.55)}

/* Settings creative preview */
.preview-card{grid-column:1/-1;margin-top:8px;border:1px dashed rgba(255,255,255,.18);border-radius:14px;padding:12px;background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01))}
.preview-title{font-family:'Playfair Display',serif;margin:0 0 8px;color:#ffd27a}
.preview-body{white-space:pre-wrap;color:var(--muted);line-height:1.7;min-height:48px;position:relative}
.preview-body:after{content:"";position:absolute;right:0;top:0;bottom:0;width:14px;background:linear-gradient(90deg, transparent, rgba(15,14,23,.7))}
.settings-form textarea{transition:border-color .2s ease, box-shadow .2s ease}
.settings-form textarea:focus{outline:none;border-color:rgba(255,77,109,.5);box-shadow:0 0 0 3px rgba(255,77,109,.2)}

/* Loader */
.loader{position:fixed;inset:0;background:linear-gradient(180deg,rgba(15,14,23,.92),rgba(15,14,23,.96));display:flex;align-items:center;justify-content:center;z-index:30}
.loader[aria-hidden="true"]{display:none}
.loader-inner{text-align:center;padding:24px}
.loader-hearts{font-size:28px;letter-spacing:8px;margin-bottom:8px}
.loader-hearts span{display:inline-block;animation:pop 1s ease-in-out infinite}
.loader-hearts span:nth-child(2){animation-delay:.15s}
.loader-hearts span:nth-child(3){animation-delay:.3s}
.loader-title{font-family:'Playfair Display',serif;margin:6px 0 6px}
.loader-sub{color:var(--muted);margin:0 0 14px}
.loader-tip{display:block;color:var(--muted);opacity:.8;margin-top:8px}

@keyframes pop{0%,100%{transform:translateY(0) scale(1)}50%{transform:translateY(-6px) scale(1.1)}}

/* Love letter creative enhancements */
.modal-dialog:before{content:"";position:absolute;inset:0;border-radius:16px;padding:1px;background:linear-gradient(135deg, rgba(255,77,109,.5), rgba(249,199,79,.45), rgba(122,229,130,.35));-webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);-webkit-mask-composite:xor;mask-composite:exclude;pointer-events:none}
.modal-title{background:linear-gradient(90deg,#ff86a5,#ffd27a,#9be79f);-webkit-background-clip:text;background-clip:text;color:transparent}
.modal-content p{opacity:0;transform:translateY(8px);transition:opacity .5s ease, transform .5s ease}
.modal-content p.reveal{opacity:1;transform:none}
.modal-content p:first-child::first-letter{font-family:'Playfair Display',serif;float:left;font-size:36px;line-height:1;color:var(--accent);padding:4px 8px 0 0}
.modal-content p+p{position:relative}
.modal-content p+p:before{content:"";position:absolute;left:0;right:0;top:-8px;height:1px;background:linear-gradient(90deg,transparent, rgba(255,255,255,.12), transparent)}


